# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: Gemini –º–æ–¥–µ–ª—å —Ç–µ–ø–µ—Ä—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ Gemini, —É `gemini-2.0-flash-exp` –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –∫–≤–æ—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ —Ñ–∞–π–ª—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—É—é –º–æ–¥–µ–ª—å –∏–∑ `.env` - `GEMINI_MODEL`

---

## üîç –ß—Ç–æ –±—ã–ª–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞ —Å –º–æ–¥–µ–ª—è–º–∏:

**–§–∞–π–ª—ã —Å `gemini-2.0-flash-exp` (–∫–≤–æ—Ç–∞ –∏—Å—á–µ—Ä–ø–∞–Ω–∞ ‚ùå):**
- `utils/ai_macro_generator.py`
- `utils/prompt_updater.py` (3 –º–µ—Å—Ç–∞)
- `utils/ai_dom_analyzer.py`
- `main.py`

**–§–∞–π–ª—ã —Å `gemini-2.5-flash` (—Ä–∞–±–æ—Ç–∞–ª–∞ ‚úÖ):**
- `tests/test_gemini.py`
- `utils/ai_macro_generator_legacy.py`
- `macro_sequence.py`

**–í–æ—Ç –ø–æ—á–µ–º—É —Ç–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–ª, –∞ AI —Ñ—É–Ω–∫—Ü–∏–∏ - –Ω–µ—Ç!**

---

## üîß –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω `GEMINI_MODEL` –≤ `.env`

**–§–∞–π–ª: `.env`**
```bash
# Gemini Model (—Ä–∞–±–æ—á–∞—è –º–æ–¥–µ–ª—å –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
# –î–æ—Å—Ç—É–ø–Ω—ã–µ: gemini-1.5-flash, gemini-2.5-flash, gemini-2.0-flash-exp
GEMINI_MODEL=gemini-1.5-flash
```

**–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –º–æ–¥–µ–ª—å –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ!**

---

### 2. –û–±–Ω–æ–≤–ª—ë–Ω `api_config.py`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```python
class APIConfig:
    def __init__(self):
        self.gemini_key = os.getenv("GEMINI_API_KEY")
        self.gemini_model = os.getenv("GEMINI_MODEL", "gemini-1.5-flash")  # ‚Üê –ù–æ–≤–æ–µ!
```

---

### 3. –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã

#### **utils/ai_macro_generator.py**
```python
# –ë—ã–ª–æ:
response = client.models.generate_content(
    model="gemini-2.0-flash-exp",  # ‚Üê –•–∞—Ä–¥–∫–æ–¥
    contents=prompt
)

# –°—Ç–∞–ª–æ:
response = client.models.generate_content(
    model=api_config.gemini_model,  # ‚Üê –ò–∑ .env
    contents=prompt
)
```

#### **utils/prompt_updater.py** (3 –º–µ—Å—Ç–∞)
```python
# –ë—ã–ª–æ:
model="gemini-2.0-flash-exp"

# –°—Ç–∞–ª–æ:
model=api_config.gemini_model
```

#### **utils/ai_dom_analyzer.py**
```python
# –ë—ã–ª–æ:
self.model_name = 'gemini-2.0-flash-exp'

# –°—Ç–∞–ª–æ:
from utils.api_config import api_config
self.model_name = api_config.gemini_model
```

#### **main.py**
```python
# –ë—ã–ª–æ:
model='gemini-2.0-flash-exp'

# –°—Ç–∞–ª–æ:
from utils.api_config import api_config
model=api_config.gemini_model
```

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –§–∞–π–ª | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –°—Ç–∞—Ç—É—Å |
|------|------|-------|--------|
| utils/ai_macro_generator.py | `gemini-2.0-flash-exp` | `api_config.gemini_model` | ‚úÖ |
| utils/prompt_updater.py | `gemini-2.0-flash-exp` (3x) | `api_config.gemini_model` (3x) | ‚úÖ |
| utils/ai_dom_analyzer.py | `gemini-2.0-flash-exp` | `api_config.gemini_model` | ‚úÖ |
| main.py | `gemini-2.0-flash-exp` | `api_config.gemini_model` | ‚úÖ |
| .env | - | `GEMINI_MODEL=gemini-1.5-flash` | ‚úÖ |
| utils/api_config.py | - | `self.gemini_model` | ‚úÖ |

**–ò—Ç–æ–≥–æ:**
- ‚úÖ 6 –º–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `.env`
- ‚úÖ 100% —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è

---

## üéØ –ö–∞–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ú–µ–Ω—è–µ—à—å –º–æ–¥–µ–ª—å –≤ `.env`:
```bash
nano .env

# –í—ã–±–µ—Ä–∏ –º–æ–¥–µ–ª—å:
GEMINI_MODEL=gemini-1.5-flash      # –°—Ç–∞–±–∏–ª—å–Ω–∞—è
# GEMINI_MODEL=gemini-2.5-flash    # –ù–æ–≤–∞—è, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞
# GEMINI_MODEL=gemini-2.0-flash-exp # –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è (–∫–≤–æ—Ç–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å)
```

### 2. –ó–∞–ø—É—Å–∫–∞–µ—à—å –ª—é–±—É—é —Ñ—É–Ω–∫—Ü–∏—é:
```bash
python3 main.py
# ‚Üí 6. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (AI) ‚úÖ
# ‚Üí 7. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (AI) ‚úÖ
# ‚Üí 8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ (AI) ‚úÖ
```

### 3. –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! üöÄ

---

## üîÑ –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏

### 1. **gemini-1.5-flash** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è
- ‚úÖ –ë–æ–ª—å—à–∞—è –∫–≤–æ—Ç–∞
- ‚ùå –ù–µ–º–Ω–æ–≥–æ —Å—Ç–∞—Ä—à–µ

### 2. **gemini-2.5-flash**
- ‚úÖ –ù–æ–≤–µ–π—à–∞—è
- ‚úÖ –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞
- ‚ö†Ô∏è –ú–µ–Ω—å—à–∞—è –∫–≤–æ—Ç–∞

### 3. **gemini-2.0-flash-exp**
- ‚úÖ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è
- ‚ùå –ö–≤–æ—Ç–∞ –∏—Å—á–µ—Ä–ø–∞–Ω–∞
- ‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π `gemini-1.5-flash` - –æ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –∏ –±—ã—Å—Ç—Ä–∞—è!

---

## ‚ö†Ô∏è –û—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### –û—à–∏–±–∫–∞: 429 RESOURCE_EXHAUSTED
**–ü—Ä–∏—á–∏–Ω–∞:** –ö–≤–æ—Ç–∞ –º–æ–¥–µ–ª–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–º–µ–Ω–∏ –º–æ–¥–µ–ª—å –≤ .env:
GEMINI_MODEL=gemini-1.5-flash
```

### –û—à–∏–±–∫–∞: 503 UNAVAILABLE
**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–¥–µ–ª—å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞ (–≤—Ä–µ–º–µ–Ω–Ω–æ)

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–¥–æ–∂–¥–∏ 30-60 —Å–µ–∫—É–Ω–¥
2. –ò–ª–∏ —Å–º–µ–Ω–∏ –º–æ–¥–µ–ª—å:
   ```bash
   GEMINI_MODEL=gemini-1.5-flash
   ```

### –û—à–∏–±–∫–∞: 404 NOT_FOUND
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –º–æ–¥–µ–ª–∏

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è:
GEMINI_MODEL=gemini-1.5-flash
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥–µ–ª—å
```bash
python3 -c "from utils.api_config import api_config; print(f'Model: {api_config.gemini_model}')"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Model: gemini-1.5-flash
```

### –¢–µ—Å—Ç 2: AI –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
```bash
python3 utils/ai_macro_generator.py "—Ç–µ—Å—Ç"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
ü§ñ –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–´–ô AI –ì–ï–ù–ï–†–ê–¢–û–†
ü§ñ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Google Gemini...
```

### –¢–µ—Å—Ç 3: Prompt Updater
```bash
python3 utils/prompt_updater.py --update
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
üìÇ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ templates/...
```

---

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –î–æ:
- ‚ùå –†–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- ‚ùå `gemini-2.0-flash-exp` - –∫–≤–æ—Ç–∞ –∏—Å—á–µ—Ä–ø–∞–Ω–∞
- ‚ùå –ù—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤ 6+ –º–µ—Å—Ç–∞—Ö
- ‚ùå –õ–µ–≥–∫–æ –∑–∞–±—ã—Ç—å –æ–±–Ω–æ–≤–∏—Ç—å

### –ü–æ—Å–ª–µ:
- ‚úÖ –ï–¥–∏–Ω–∞—è –º–æ–¥–µ–ª—å –≤ `.env`
- ‚úÖ `gemini-1.5-flash` - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è
- ‚úÖ –ú–µ–Ω—è–µ—à—å –≤ 1 –º–µ—Å—Ç–µ ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ
- ‚úÖ –õ–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **.env** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–∫–ª—é—á + –º–æ–¥–µ–ª—å)
- **utils/api_config.py** - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- **API_CONFIG_GUIDE.md** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ API
- **API_USAGE_SUMMARY.md** - –°–≤–æ–¥–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **API_FIX_SUMMARY.md** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞
- **GEMINI_MODEL_FIX.md** - –≠—Ç–æ—Ç —Ñ–∞–π–ª

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- **utils/ai_macro_generator.py**
- **utils/prompt_updater.py**
- **utils/ai_dom_analyzer.py**
- **main.py**

---

## ‚úÖ –ò—Ç–æ–≥

### –ü—Ä–æ–±–ª–µ–º–∞:
- ‚ùå –ö–≤–æ—Ç–∞ `gemini-2.0-flash-exp` –∏—Å—á–µ—Ä–ø–∞–Ω–∞
- ‚ùå –†–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- ‚ùå AI —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏

### –†–µ—à–µ–Ω–∏–µ:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `GEMINI_MODEL` –≤ `.env`
- ‚úÖ –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—É—é –º–æ–¥–µ–ª—å
- ‚úÖ –õ–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
**–ú–µ–Ω—è–µ—à—å –º–æ–¥–µ–ª—å –≤ `.env` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö 6 —Ñ–∞–π–ª–∞—Ö!**

**–§—É–Ω–∫—Ü–∏–∏ –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é:**
- ‚úÖ 6. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (AI)
- ‚úÖ 7. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (AI)
- ‚úÖ 8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ (AI)

**–í—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –∏–∑ `.env`!** üéâüöÄ
