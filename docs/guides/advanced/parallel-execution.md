# üöÄ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–æ–≤

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

```
‚úÖ –ó–∞–ø—É—Å–∫ 5-10 –º–∞–∫—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
‚úÖ –ö–∞–∂–¥—ã–π –≤ —Å–≤–æ–µ–º –æ–∫–Ω–µ Chrome
‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ (—Ä–∞–∑–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã)
‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–∫–æ–Ω
```

---

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (3 —ç–∫–∑–µ–º–ø–ª—è—Ä–∞):

```bash
python3 parallel_runner.py --macro macro-queues/tiktok_dom_test.atlas
```

### –ó–∞–ø—É—Å–∫ 5 —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤:

```bash
python3 parallel_runner.py \
  --instances 5 \
  --macro macro-queues/tiktok_auto_like.atlas \
  --url https://tiktok.com
```

### –ó–∞–ø—É—Å–∫ 10 —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤:

```bash
python3 parallel_runner.py --instances 10 --macro macro-queues/tiktok_dom_test.atlas
```

---

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ Chrome

```python
for i in range(5):
    # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å
    profile = f"/tmp/chrome-profile-{i}"
    
    # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π debug –ø–æ—Ä—Ç
    port = 9222 + i
    
    # –ü–æ–∑–∏—Ü–∏—è –æ–∫–Ω–∞ (—á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª–∏—Å—å)
    position = (i * 50, i * 50)
    
    driver = create_chrome(profile, port, position)
```

### 2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –º–∞–∫—Ä–æ—Å–æ–≤

```python
threads = []
for i, driver in enumerate(drivers):
    thread = Thread(target=run_macro, args=(driver, i))
    thread.start()
    threads.append(thread)

# –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö
for thread in threads:
    thread.join()
```

---

## üìä –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
============================================================
üöÄ –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–´–ô –ó–ê–ü–£–°–ö
üìä –≠–∫–∑–µ–º–ø–ª—è—Ä–æ–≤: 5
üìÑ –ú–∞–∫—Ä–æ—Å: tiktok_auto_like.atlas
üåê URL: https://tiktok.com
============================================================

üöÄ –ó–∞–ø—É—Å–∫ Chrome #0...
‚úÖ Chrome #0 –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 9222)
üöÄ –ó–∞–ø—É—Å–∫ Chrome #1...
‚úÖ Chrome #1 –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 9223)
üöÄ –ó–∞–ø—É—Å–∫ Chrome #2...
‚úÖ Chrome #2 –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 9224)
üöÄ –ó–∞–ø—É—Å–∫ Chrome #3...
‚úÖ Chrome #3 –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 9225)
üöÄ –ó–∞–ø—É—Å–∫ Chrome #4...
‚úÖ Chrome #4 –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 9226)

‚úÖ –ó–∞–ø—É—â–µ–Ω–æ 5 —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ Chrome

üìç Instance #0: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ https://tiktok.com
üìç Instance #1: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ https://tiktok.com
üìç Instance #2: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ https://tiktok.com
üìç Instance #3: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ https://tiktok.com
üìç Instance #4: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ https://tiktok.com

üé¨ Instance #0: –ó–∞–ø—É—Å–∫ –º–∞–∫—Ä–æ—Å–∞ tiktok_auto_like.atlas
üé¨ Instance #1: –ó–∞–ø—É—Å–∫ –º–∞–∫—Ä–æ—Å–∞ tiktok_auto_like.atlas
üé¨ Instance #2: –ó–∞–ø—É—Å–∫ –º–∞–∫—Ä–æ—Å–∞ tiktok_auto_like.atlas
üé¨ Instance #3: –ó–∞–ø—É—Å–∫ –º–∞–∫—Ä–æ—Å–∞ tiktok_auto_like.atlas
üé¨ Instance #4: –ó–∞–ø—É—Å–∫ –º–∞–∫—Ä–æ—Å–∞ tiktok_auto_like.atlas

‚úÖ Instance #0: –ú–∞–∫—Ä–æ—Å –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ
‚úÖ Instance #1: –ú–∞–∫—Ä–æ—Å –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ
‚úÖ Instance #2: –ú–∞–∫—Ä–æ—Å –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ
‚úÖ Instance #3: –ú–∞–∫—Ä–æ—Å –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ
‚úÖ Instance #4: –ú–∞–∫—Ä–æ—Å –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ

============================================================
üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´
============================================================
‚úÖ Instance #0: –£—Å–ø–µ—à–Ω–æ
‚úÖ Instance #1: –£—Å–ø–µ—à–Ω–æ
‚úÖ Instance #2: –£—Å–ø–µ—à–Ω–æ
‚úÖ Instance #3: –£—Å–ø–µ—à–Ω–æ
‚úÖ Instance #4: –£—Å–ø–µ—à–Ω–æ
============================================================
‚úÖ –£—Å–ø–µ—à–Ω–æ: 5/5
============================================================
```

---

## üí° –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 1. –†–∞–∑–Ω—ã–µ –º–∞–∫—Ä–æ—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞

```python
# parallel_runner_advanced.py
macros = [
    "tiktok_auto_like.atlas",
    "tiktok_comment.atlas",
    "tiktok_research.atlas"
]

for i, macro in enumerate(macros):
    run_macro(drivers[i], macro)
```

### 2. –†–∞–∑–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

```python
# –ö–∞–∂–¥—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º
profiles = [
    "/Users/kostya/chrome-profile-account1",
    "/Users/kostya/chrome-profile-account2",
    "/Users/kostya/chrome-profile-account3"
]

for i, profile in enumerate(profiles):
    driver = create_chrome(profile_dir=profile)
```

### 3. –†–∞–∑–Ω—ã–µ URL

```python
urls = [
    "https://tiktok.com/@user1",
    "https://tiktok.com/@user2",
    "https://tiktok.com/@user3"
]

for i, url in enumerate(urls):
    drivers[i].get(url)
    run_macro(drivers[i])
```

---

## üé® –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–∫–æ–Ω

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ (–∫–∞—Å–∫–∞–¥–æ–º):

```python
# –ö–∞–∂–¥–æ–µ –æ–∫–Ω–æ —Å–º–µ—â–µ–Ω–æ –Ω–∞ 50px
window_offset = instance_id * 50
options.add_argument(f"--window-position={window_offset},{window_offset}")
```

### –°–µ—Ç–∫–∞ (2x3):

```python
# 2 –∫–æ–ª–æ–Ω–∫–∏, 3 —Ä—è–¥–∞
col = instance_id % 2
row = instance_id // 2
x = col * 820
y = row * 920
options.add_argument(f"--window-position={x},{y}")
```

### –†–∞–∑–Ω—ã–µ –º–æ–Ω–∏—Ç–æ—Ä—ã:

```python
# –ú–æ–Ω–∏—Ç–æ—Ä 1: x=0-1920
# –ú–æ–Ω–∏—Ç–æ—Ä 2: x=1920-3840
monitor = instance_id % 2
x = monitor * 1920 + (instance_id // 2) * 50
options.add_argument(f"--window-position={x},0")
```

---

## üî• –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. Headless —Ä–µ–∂–∏–º (–±–µ–∑ GUI):

```python
options.add_argument('--headless')
# –≠–∫–æ–Ω–æ–º–∏—Ç RAM –∏ CPU
# –ù–æ –Ω–µ –≤–∏–¥–Ω–æ —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
```

### 2. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:

```python
options.add_argument('--disable-images')  # –ù–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–∏
options.add_argument('--disable-javascript')  # –û—Ç–∫–ª—é—á–∏—Ç—å JS (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
options.add_argument('--blink-settings=imagesEnabled=false')
```

### 3. –ó–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏:

```python
for i in range(10):
    driver = create_chrome(i)
    time.sleep(2)  # –ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å —Å–∏—Å—Ç–µ–º—É
```

---

## üìä –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### macOS:

```
‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: 3-5 —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
‚ö†Ô∏è  –í–æ–∑–º–æ–∂–Ω–æ: 5-10 —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: >10 —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤

–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:
- RAM (–∫–∞–∂–¥—ã–π Chrome ~500MB)
- CPU (–∫–∞–∂–¥—ã–π –º–∞–∫—Ä–æ—Å ~10-20% CPU)
- –°–µ—Ç—å (–µ—Å–ª–∏ –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤)
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

```
8GB RAM  ‚Üí 3-4 —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
16GB RAM ‚Üí 5-8 —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
32GB RAM ‚Üí 10-15 —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
```

---

## üöÄ Quick Start

### 1. –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç (3 –æ–∫–Ω–∞):

```bash
python3 parallel_runner.py --macro macro-queues/tiktok_dom_test.atlas
```

### 2. –ú–∞—Å—Å–æ–≤—ã–µ –ª–∞–π–∫–∏ (5 –æ–∫–æ–Ω):

```bash
python3 parallel_runner.py \
  --instances 5 \
  --macro macro-queues/tiktok_auto_like.atlas
```

### 3. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (10 –æ–∫–æ–Ω):

```bash
python3 parallel_runner.py \
  --instances 10 \
  --macro macro-queues/tiktok_research_workflow.atlas
```

---

## üéØ Use Cases

### 1. –ú–∞—Å—Å–æ–≤—ã–µ –ª–∞–π–∫–∏:
```
5 –æ–∫–æ–Ω √ó 100 –ª–∞–π–∫–æ–≤ = 500 –ª–∞–π–∫–æ–≤
–í—Ä–µ–º—è: ~10 –º–∏–Ω—É—Ç
```

### 2. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:
```
10 –æ–∫–æ–Ω √ó —Ä–∞–∑–Ω—ã–µ —Ö–µ—à—Ç–µ–≥–∏
–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```
3 –æ–∫–Ω–∞ √ó —Ä–∞–∑–Ω—ã–µ –º–∞–∫—Ä–æ—Å—ã
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```

---

## üîß Troubleshooting

### –û—à–∏–±–∫–∞: "Too many Chrome instances"

```bash
# –ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ Chrome
killall "Google Chrome"

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏
rm -rf /tmp/chrome-profile-*
```

### –û—à–∏–±–∫–∞: "Port already in use"

```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –ø–æ—Ä—Ç—ã
base_port = 10000  # –í–º–µ—Å—Ç–æ 9222
```

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞:

```python
# –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
--instances 3  # –í–º–µ—Å—Ç–æ 10
```

---

**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ! üöÄ**

**–î–æ 10 –º–∞–∫—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ! ‚ö°**

**–ü–æ–ø—Ä–æ–±—É–π! üéØ**
