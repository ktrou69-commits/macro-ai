# ‚úÖ DSL_REFERENCE.txt –æ–±–Ω–æ–≤–ª–µ–Ω!

## üéØ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
**–§–∞–π–ª:** `utils/dsl_reference_generator.py`

**–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ `get_dsl_commands()`:**
```python
# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
"try:": "–ù–∞—á–∞–ª–æ –±–ª–æ–∫–∞ try/catch",
"catch:": "–ë–ª–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤ try)",
"except:": "–ë–ª–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ catch)",
"end": "–ö–æ–Ω–µ—Ü –±–ª–æ–∫–∞ (try/catch –∏–ª–∏ repeat)",
"log \"<message>\"": "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è",
"abort": "–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∞–∫—Ä–æ—Å–∞",
"retry <N>": "–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ N —Ä–∞–∑",
```

**–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –≥—Ä—É–ø–ø—ã –∫–æ–º–∞–Ω–¥:**
```python
"–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫": [
    "try:",
    "catch:",
    "except:",
    "end",
    "log \"<message>\"",
    "abort",
    "retry <N>",
],
```

---

### 2. –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫
**–§–∞–π–ª:** `dsl_references/DSL_REFERENCE.txt`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω: dsl_references/DSL_REFERENCE.txt
üìä –í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫: 161 (–±—ã–ª–æ 151)
üè∑Ô∏è  –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–º–µ–Ω: 22
üìÑ –§–∞–π–ª–æ–≤ —à–∞–±–ª–æ–Ω–æ–≤: 10
```

---

## üìã –ß—Ç–æ —Ç–µ–ø–µ—Ä—å –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ

### –†–∞–∑–¥–µ–ª "–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫":

```
–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
--------------------------------------------------------------------------------
  try:                           # –ù–∞—á–∞–ª–æ –±–ª–æ–∫–∞ try/catch
  catch:                         # –ë–ª–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤ try)
  except:                        # –ë–ª–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ catch)
  end                            # –ö–æ–Ω–µ—Ü –±–ª–æ–∫–∞ (try/catch –∏–ª–∏ repeat)
  log "<message>"                # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
  abort                          # –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∞–∫—Ä–æ—Å–∞
  retry <N>                      # –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ N —Ä–∞–∑
```

---

## ü§ñ AI –ø—Ä–æ–º–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫

### –í `ai_macro_generator.py`:

```python
def build_system_prompt(self):
    templates_structure = self.get_templates_structure()
    dsl_reference = self.get_dsl_reference()  # ‚Üê –ß–∏—Ç–∞–µ—Ç DSL_REFERENCE.txt
    best_practices = self.get_best_practices()
    dsl_variables = self.get_dsl_variables()
    
    prompt = f"""
    ...
    üìö DSL –°–ü–†–ê–í–û–ß–ù–ò–ö
    {dsl_reference}  # ‚Üê –í–∫–ª—é—á–∞–µ—Ç try/catch –∫–æ–º–∞–Ω–¥—ã!
    ...
    """
```

**–¢–µ–ø–µ—Ä—å AI –≤–∏–¥–∏—Ç:**
- ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã try/catch
- ‚úÖ –û–ø–∏—Å–∞–Ω–∏—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

### –î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```
–¶–∏–∫–ª—ã:
  repeat <N>:                    # –ü–æ–≤—Ç–æ—Ä–∏—Ç—å N —Ä–∞–∑

–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:
  # <comment>                    # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
```

**–ü—Ä–æ–±–ª–µ–º–∞:** AI –Ω–µ –∑–Ω–∞–ª –ø—Ä–æ try/catch

---

### –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```
–¶–∏–∫–ª—ã:
  repeat <N>:                    # –ü–æ–≤—Ç–æ—Ä–∏—Ç—å N —Ä–∞–∑

–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
  try:                           # –ù–∞—á–∞–ª–æ –±–ª–æ–∫–∞ try/catch
  catch:                         # –ë–ª–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
  except:                        # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ catch
  end                            # –ö–æ–Ω–µ—Ü –±–ª–æ–∫–∞
  log "<message>"                # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  abort                          # –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ
  retry <N>                      # –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞

–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:
  # <comment>                    # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** AI —Ç–µ–ø–µ—Ä—å –∑–Ω–∞–µ—Ç –ø—Ä–æ try/catch! ‚úÖ

---

## üéØ –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç

### 1. AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–æ—Ç–∫—Ä—ã—Ç—å Chrome —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫"

AI —Å–æ–∑–¥–∞–µ—Ç:
try:
    open ChromeApp
    wait 2s
    click ChromeNewTab
catch:
    log "Failed to open Chrome"
    abort
end
```

### 2. AI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ `try:` / `catch:` / `end`
- ‚úÖ `log "<message>"`
- ‚úÖ `abort`
- ‚úÖ `retry <N>`

### 3. AI –ø–æ–Ω–∏–º–∞–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- ‚úÖ –ó–Ω–∞–µ—Ç —á—Ç–æ –Ω—É–∂–µ–Ω `end`
- ‚úÖ –ó–Ω–∞–µ—Ç —á—Ç–æ `except:` = –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ `catch:`
- ‚úÖ –ó–Ω–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã

---

## üìÅ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
‚úÖ utils/dsl_reference_generator.py  (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä)
‚úÖ dsl_references/DSL_REFERENCE.txt  (—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫)
```

---

## üöÄ –ü—Ä–æ–≤–µ—Ä–∫–∞

### 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫:
```bash
cat dsl_references/DSL_REFERENCE.txt | grep -A 10 "–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
--------------------------------------------------------------------------------
  try:                           # –ù–∞—á–∞–ª–æ –±–ª–æ–∫–∞ try/catch
  catch:                         # –ë–ª–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
  except:                        # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ catch
  end                            # –ö–æ–Ω–µ—Ü –±–ª–æ–∫–∞
  log "<message>"                # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  abort                          # –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ
  retry <N>                      # –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞
```

---

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ AI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
```bash
python3 main.py
# ‚Üí 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (AI)
# ‚Üí "–æ—Ç–∫—Ä—ã—Ç—å Chrome —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫"

# AI —Å–æ–∑–¥–∞—Å—Ç:
try:
    open ChromeApp
    wait 2s
    click ChromeNewTab
catch:
    log "Failed to open Chrome"
    abort
end
```

---

## üéâ –ò—Ç–æ–≥–∏

### –û–±–Ω–æ–≤–ª–µ–Ω–æ:
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
- ‚úÖ DSL_REFERENCE.txt
- ‚úÖ AI –ø—Ä–æ–º–ø—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ get_dsl_reference())

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ AI –∑–Ω–∞–µ—Ç –ø—Ä–æ try/catch
- ‚úÖ AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥
- ‚úÖ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∞–∫—Ç—É–∞–ª–µ–Ω

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
```
–°—Ç—Ä–æ–∫ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ: 161 (–±—ã–ª–æ 151)
–ù–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥: 7
–ù–æ–≤–∞—è –≥—Ä—É–ø–ø–∞: "–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫"
```

---

**DSL_REFERENCE.txt –æ–±–Ω–æ–≤–ª–µ–Ω! ‚úÖ**

**AI —Ç–µ–ø–µ—Ä—å –∑–Ω–∞–µ—Ç –ø—Ä–æ try/catch! ü§ñ**

**–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**
