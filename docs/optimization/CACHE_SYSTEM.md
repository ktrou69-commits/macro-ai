# üíæ –°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–î–∞—Ç–∞:** 11 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω–æ

---

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –º–∞–∫—Ä–æ—Å–æ–≤ –∑–∞ —Å—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞ `.atlas` —Ñ–∞–π–ª–æ–≤.

**–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏:** 0.2-0.3 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∫–∞–∂–¥–æ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ

---

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –º–∞–∫—Ä–æ—Å–∞:

```
1. –ß–∏—Ç–∞–µ—Ç—Å—è —Ñ–∞–π–ª: tiktok_open.atlas
2. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è MD5 —Ö—ç—à: a3f2c8d9e1b4...
3. –ü–∞—Ä—Å–∏–Ω–≥ DSL ‚Üí YAML (0.3—Å)
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫—ç—à: .cache/a3f2c8d9e1b4.pkl
5. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–∞
```

**–í—Ä–µ–º—è:** ~1.2 —Å–µ–∫—É–Ω–¥—ã

---

### –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ (—Ñ–∞–π–ª –Ω–µ –∏–∑–º–µ–Ω–µ–Ω):

```
1. –ß–∏—Ç–∞–µ—Ç—Å—è —Ñ–∞–π–ª: tiktok_open.atlas
2. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è MD5 —Ö—ç—à: a3f2c8d9e1b4... (—Å–æ–≤–ø–∞–¥–∞–µ—Ç!)
3. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∫—ç—à–∞: .cache/a3f2c8d9e1b4.pkl (0.05—Å)
4. –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–ø—É—â–µ–Ω ‚úÖ
5. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–∞
```

**–í—Ä–µ–º—è:** ~0.9 —Å–µ–∫—É–Ω–¥—ã (-25%)

---

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞:

```
1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º: tiktok_open.atlas
2. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è MD5 —Ö—ç—à: b7e4f1a2c9d8... (–Ω–æ–≤—ã–π!)
3. –°—Ç–∞—Ä—ã–π –∫—ç—à –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
4. –ù–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥ (0.3—Å)
5. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫—ç—à–∞: .cache/b7e4f1a2c9d8.pkl
6. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–∞
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ!** ‚úÖ

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—ç—à–∞

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:
```
local-macros/
‚îî‚îÄ‚îÄ .cache/
    ‚îú‚îÄ‚îÄ a3f2c8d9e1b4f5c6.pkl  # tiktok_open.atlas
    ‚îú‚îÄ‚îÄ b7e4f1a2c9d8e3f5.pkl  # chrome_new_tab.atlas
    ‚îî‚îÄ‚îÄ c8f9a1b2d3e4f5a6.pkl  # youtube_search.atlas
```

### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞:
- **–ò–º—è:** MD5 —Ö—ç—à –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ:** `.pkl` (Python pickle)
- **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** –°–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å –∫–æ–Ω—Ñ–∏–≥–∞

---

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ú–µ—Ç–æ–¥—ã –≤ MacroRunner:

#### `_get_file_hash(file_path: str) -> str`
–í—ã—á–∏—Å–ª—è–µ—Ç MD5 —Ö—ç—à —Ñ–∞–π–ª–∞ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤–µ—Ä—Å–∏–∏.

```python
def _get_file_hash(self, file_path: str) -> str:
    with open(file_path, 'rb') as f:
        return hashlib.md5(f.read()).hexdigest()
```

#### `_load_from_cache(file_path: str) -> Optional[dict]`
–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥ –∏–∑ –∫—ç—à–∞, –µ—Å–ª–∏ —Ö—ç—à —Å–æ–≤–ø–∞–¥–∞–µ—Ç.

```python
def _load_from_cache(self, file_path: str) -> Optional[dict]:
    file_hash = self._get_file_hash(file_path)
    cache_file = Path(".cache") / f"{file_hash}.pkl"
    
    if cache_file.exists():
        with open(cache_file, 'rb') as f:
            return pickle.load(f)
    return None
```

#### `_save_to_cache(file_path: str, data: dict)`
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ –∫—ç—à.

```python
def _save_to_cache(self, file_path: str, data: dict):
    cache_dir = Path(".cache")
    cache_dir.mkdir(exist_ok=True)
    
    file_hash = self._get_file_hash(file_path)
    cache_file = cache_dir / f"{file_hash}.pkl"
    
    with open(cache_file, 'wb') as f:
        pickle.dump(data, f)
```

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ó–∞–º–µ—Ä—ã –≤—Ä–µ–º–µ–Ω–∏:

| –û–ø–µ—Ä–∞—Ü–∏—è | –ë–µ–∑ –∫—ç—à–∞ | –° –∫—ç—à–µ–º | –≠–∫–æ–Ω–æ–º–∏—è |
|----------|----------|---------|----------|
| –ü–∞—Ä—Å–∏–Ω–≥ .atlas | 0.3—Å | 0.05—Å | 0.25—Å |
| –û–±—â–∏–π –∑–∞–ø—É—Å–∫ | 1.2—Å | 0.9—Å | 0.3—Å |
| –£–ª—É—á—à–µ–Ω–∏–µ | - | -25% | ‚úÖ |

### –†–∞–∑–º–µ—Ä –∫—ç—à–∞:

- –û–¥–∏–Ω —Ñ–∞–π–ª: ~5-20 KB
- 10 –º–∞–∫—Ä–æ—Å–æ–≤: ~50-200 KB
- 100 –º–∞–∫—Ä–æ—Å–æ–≤: ~0.5-2 MB

**–í—ã–≤–æ–¥:** –ö—ç—à –∑–∞–Ω–∏–º–∞–µ—Ç –º–∏–Ω–∏–º—É–º –º–µ—Å—Ç–∞, –¥–∞–µ—Ç –º–∞–∫—Å–∏–º—É–º –ø–æ–ª—å–∑—ã!

---

## üßπ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–µ–º

### –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞:

```bash
# –£–¥–∞–ª–∏—Ç—å –≤–µ—Å—å –∫—ç—à
rm -rf .cache/

# –£–¥–∞–ª–∏—Ç—å –∫—ç—à –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
# (–Ω–∞–π—Ç–∏ —Ö—ç—à –∏ —É–¥–∞–ª–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π .pkl)
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞:

–ö—ç—à –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞. –°—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—á–∏—â–∞—Ç—å –∫—ç—à —Ä–∞–∑ –≤ –º–µ—Å—è—Ü –∏–ª–∏ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö.

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### –ö–æ–≥–¥–∞ –∫—ç—à –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

1. **YAML —Ñ–∞–π–ª—ã** - –∫—ç—à–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ `.atlas`
2. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫** - –∫—ç—à –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω
3. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞** - —Ö—ç—à –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
4. **–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è** - –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π –∫—ç—à

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

- ‚úÖ –ö—ç—à –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è git (`.gitignore`)
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ (–Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- ‚úÖ –ù–µ—Ç —Ä–∏—Å–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞:

```python
# –í –∫–æ–¥–µ macro_sequence.py
print(f"üíæ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ –∫—ç—à–∞: {Path(file_path).name}")
```

### –ï—Å–ª–∏ –∫—ç—à –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–∞–ø–∫–∏ `.cache/`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
3. –£–¥–∞–ª–∏—Ç—å –∫—ç—à –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫—ç—à–∞:

–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ `_load_config()`:

```python
# cached_config = self._load_from_cache(self.config_path)
# if cached_config:
#     self.config = cached_config
#     return
```

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –î–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∫—ç—à–∞:
- –ó–∞–ø—É—Å–∫: 1.2—Å
- –ü–∞—Ä—Å–∏–Ω–≥: 0.3—Å (–∫–∞–∂–¥—ã–π —Ä–∞–∑)
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫: 1.2—Å

### –ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∫—ç—à–∞:
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫: 1.2—Å (—Å–æ–∑–¥–∞–Ω–∏–µ –∫—ç—à–∞)
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫: 0.9—Å (–∏–∑ –∫—ç—à–∞)
- –≠–∫–æ–Ω–æ–º–∏—è: 25%

### –†–µ–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
- 10 –∑–∞–ø—É—Å–∫–æ–≤ –æ–¥–Ω–æ–≥–æ –º–∞–∫—Ä–æ—Å–∞: —ç–∫–æ–Ω–æ–º–∏—è 2.7—Å
- 100 –∑–∞–ø—É—Å–∫–æ–≤: —ç–∫–æ–Ω–æ–º–∏—è 27—Å
- 1000 –∑–∞–ø—É—Å–∫–æ–≤: —ç–∫–æ–Ω–æ–º–∏—è 4.5 –º–∏–Ω—É—Ç—ã!

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –í–æ–∑–º–æ–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **–ö—ç—à YAML —Ñ–∞–π–ª–æ–≤** - –µ—Å–ª–∏ –æ–Ω–∏ –±–æ–ª—å—à–∏–µ
2. **–°–∂–∞—Ç–∏–µ –∫—ç—à–∞** - gzip –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞
3. **TTL (Time To Live)** - –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤
4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∫—ç—à
5. **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ–≤** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –º–∞–∫—Ä–æ—Å–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

### –ù–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:

- ‚ùå –ö—ç—à —à–∞–±–ª–æ–Ω–æ–≤ (—É–∂–µ –≤ –ø–∞–º—è—Ç–∏)
- ‚ùå –ö—ç—à —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ (—Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ)
- ‚ùå –°–µ—Ç–µ–≤–æ–π –∫—ç—à (–ª–æ–∫–∞–ª—å–Ω—ã–π –±—ã—Å—Ç—Ä–µ–µ)

---

## üìù Changelog

### v1.0 (11 –Ω–æ—è–±—Ä—è 2025)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ .atlas —Ñ–∞–π–ª–æ–≤
- ‚úÖ MD5 —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Pickle —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ .gitignore

---

## üéØ –ò—Ç–æ–≥–∏

**–°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:**
- ‚ö° –£—Å–∫–æ—Ä—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏ –Ω–∞ 25%
- üíæ –ó–∞–Ω–∏–º–∞–µ—Ç –º–∏–Ω–∏–º—É–º –º–µ—Å—Ç–∞
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–∞ –∏ –Ω–∞–¥–µ–∂–Ω–∞
- üöÄ –†–∞–±–æ—Ç–∞–µ—Ç "–∏–∑ –∫–æ—Ä–æ–±–∫–∏"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–∞–∫—Ä–æ—Å—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–µ–µ! ‚ú®
