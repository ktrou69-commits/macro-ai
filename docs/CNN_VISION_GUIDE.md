# üß† CNN –¥–ª—è Vision - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üéØ –ß—Ç–æ —ç—Ç–æ?

**CNN (Convolutional Neural Network)** - –Ω–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

```
Template Matching: 75% —Ç–æ—á–Ω–æ—Å—Ç—å
CNN: 95% —Ç–æ—á–Ω–æ—Å—Ç—å

–£–ª—É—á—à–µ–Ω–∏–µ: +20%! üöÄ
```

---

## üìä –ü—Ä–æ–±–ª–µ–º–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞: Template Matching

```python
# –°–µ–π—á–∞—Å: –ü—Ä–æ—Å—Ç–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–∏–∫—Å–µ–ª–µ–π
result = cv2.matchTemplate(screenshot, template, cv2.TM_CCOEFF_NORMED)

–ü—Ä–æ–±–ª–µ–º—ã:
‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏ —Ü–≤–µ—Ç –∏–∑–º–µ–Ω–∏–ª—Å—è
‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏ —Ä–∞–∑–º–µ—Ä –¥—Ä—É–≥–æ–π
‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏ –æ—Å–≤–µ—â–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
‚ùå –¢—Ä–µ–±—É–µ—Ç —Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∏–∫—Å–µ–ª–µ–π
```

### –†–µ—à–µ–Ω–∏–µ: CNN

```python
# CNN "–ø–æ–Ω–∏–º–∞–µ—Ç" —á—Ç–æ —ç—Ç–æ –∫–Ω–æ–ø–∫–∞
model = load_model('button_detector.h5')
prediction = model.predict(screenshot)

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
‚úÖ –ù–∞—Ö–æ–¥–∏—Ç –∫–Ω–æ–ø–∫—É –¥–∞–∂–µ –µ—Å–ª–∏ —Ü–≤–µ—Ç –∏–∑–º–µ–Ω–∏–ª—Å—è
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏
‚úÖ –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –æ—Å–≤–µ—â–µ–Ω–∏—é
‚úÖ –ü–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
‚úÖ –û–±—É—á–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö
```

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å TensorFlow

```bash
pip3 install tensorflow matplotlib
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
python3 -c "import tensorflow as tf; print(tf.__version__)"
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: 2.20.0 (–∏–ª–∏ –Ω–æ–≤–µ–µ)
```

---

## üìö –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –ù–∞–∫–æ–ø–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏ –º–∞–∫—Ä–æ—Å—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
python3 main.py ‚Üí 2 ‚Üí tiktok_dom_test ‚Üí y

# Learning System –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
# –ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 50 –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
```

### –®–∞–≥ 2: –û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å

```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
python3 learning/cnn_trainer.py

# –í—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
# –ù–∞–ø—Ä–∏–º–µ—Ä: test-continuous

# –ò–ª–∏ –æ–±—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω
python3 learning/cnn_trainer.py --template Chrome-tiktok-like-dom

# –ò–ª–∏ –æ–±—É—á–∏—Ç—å –≤—Å–µ —à–∞–±–ª–æ–Ω—ã
python3 learning/cnn_trainer.py --all
```

### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CNN

```bash
# CNN –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞
python3 main.py ‚Üí 2 ‚Üí tiktok_dom_test ‚Üí y

# –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# 1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –µ—Å—Ç—å –ª–∏ CNN –º–æ–¥–µ–ª—å
# 2. –ï—Å–ª–∏ –µ—Å—Ç—å ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CNN
# 3. –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí fallback –Ω–∞ template matching
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### CNN –ú–æ–¥–µ–ª—å

```python
model = Sequential([
    # –ë–ª–æ–∫ 1: –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (–∫—Ä–∞—è, –ª–∏–Ω–∏–∏)
    Conv2D(32, (3, 3), activation='relu'),
    BatchNormalization(),
    MaxPooling2D((2, 2)),
    Dropout(0.25),
    
    # –ë–ª–æ–∫ 2: –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (—Ñ–æ—Ä–º—ã)
    Conv2D(64, (3, 3), activation='relu'),
    BatchNormalization(),
    MaxPooling2D((2, 2)),
    Dropout(0.25),
    
    # –ë–ª–æ–∫ 3: –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (–æ–±—ä–µ–∫—Ç—ã)
    Conv2D(128, (3, 3), activation='relu'),
    BatchNormalization(),
    MaxPooling2D((2, 2)),
    Dropout(0.25),
    
    # –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
    Flatten(),
    Dense(256, activation='relu'),
    Dropout(0.5),
    Dense(1, activation='sigmoid')  # 0 = –Ω–µ –∫–Ω–æ–ø–∫–∞, 1 = –∫–Ω–æ–ø–∫–∞
])
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–∞–∂–¥—ã–π —Å–ª–æ–π?

```
Conv2D:
  ‚Üí –ò—â–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã
  ‚Üí –°–ª–æ–π 1: –ü—Ä–æ—Å—Ç—ã–µ –ª–∏–Ω–∏–∏ –∏ –∫—Ä–∞—è
  ‚Üí –°–ª–æ–π 2: –§–æ—Ä–º—ã (–∫—Ä—É–≥–∏, –∫–≤–∞–¥—Ä–∞—Ç—ã)
  ‚Üí –°–ª–æ–π 3: –°–ª–æ–∂–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (–∫–Ω–æ–ø–∫–∏, –∏–∫–æ–Ω–∫–∏)

BatchNormalization:
  ‚Üí –°—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–µ—Ç –æ–±—É—á–µ–Ω–∏–µ
  ‚Üí –£—Å–∫–æ—Ä—è–µ—Ç —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å

MaxPooling:
  ‚Üí –£–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä
  ‚Üí –î–µ–ª–∞–µ—Ç –º–æ–¥–µ–ª—å —É—Å—Ç–æ–π—á–∏–≤–æ–π –∫ —Å–¥–≤–∏–≥–∞–º

Dropout:
  ‚Üí –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
  ‚Üí –£–ª—É—á—à–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞–ª–∏–∑–∞—Ü–∏—é

Dense:
  ‚Üí –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
  ‚Üí "–≠—Ç–æ –∫–Ω–æ–ø–∫–∞" –∏–ª–∏ "–≠—Ç–æ –Ω–µ –∫–Ω–æ–ø–∫–∞"
```

---

## üìä –ü—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```python
# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–∏–º–µ—Ä—ã –∏–∑ Learning System
examples = learning_system.db.get_examples('tiktok-like-button')

# –†–∞–∑–¥–µ–ª—è–µ–º –Ω–∞ –∫–ª–∞—Å—Å—ã
positives = [e for e in examples if e['success']]  # –≠—Ç–æ –∫–Ω–æ–ø–∫–∞
negatives = [e for e in examples if not e['success']]  # –≠—Ç–æ –Ω–µ –∫–Ω–æ–ø–∫–∞

# –ë–∞–ª–∞–Ω—Å–∏—Ä—É–µ–º –∫–ª–∞—Å—Å—ã
min_count = min(len(positives), len(negatives))
positives = positives[:min_count]
negatives = negatives[:min_count]

# –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
X = []
y = []

for example in positives:
    img = preprocess(example['screenshot'])
    X.append(img)
    y.append(1)  # –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å

for example in negatives:
    img = preprocess(example['screenshot'])
    X.append(img)
    y.append(0)  # –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å

# –†–∞–∑–¥–µ–ª—è–µ–º –Ω–∞ train/val (80/20)
X_train, X_val, y_train, y_val = train_test_split(X, y, test_size=0.2)
```

### 2. –û–±—É—á–µ–Ω–∏–µ

```python
# –°–æ–∑–¥–∞–µ–º –º–æ–¥–µ–ª—å
model = create_cnn_model()

# Callbacks
callbacks = [
    EarlyStopping(patience=10),  # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –µ—Å–ª–∏ –Ω–µ —É–ª—É—á—à–∞–µ—Ç—Å—è
    ReduceLROnPlateau(patience=5)  # –£–º–µ–Ω—å—à–µ–Ω–∏–µ learning rate
]

# –û–±—É—á–∞–µ–º
history = model.fit(
    X_train, y_train,
    validation_data=(X_val, y_val),
    epochs=50,
    batch_size=32,
    callbacks=callbacks
)

# –°–æ—Ö—Ä–∞–Ω—è–µ–º
model.save('learning/models/cnn/tiktok-like-button_cnn.keras')
```

### 3. –û—Ü–µ–Ω–∫–∞

```python
# –û—Ü–µ–Ω–∫–∞ –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
val_loss, val_acc, val_prec, val_rec = model.evaluate(X_val, y_val)

print(f"–¢–æ—á–Ω–æ—Å—Ç—å: {val_acc*100:.2f}%")
print(f"Precision: {val_prec*100:.2f}%")
print(f"Recall: {val_rec*100:.2f}%")
```

---

## üîç –î–µ—Ç–µ–∫—Ü–∏—è

### –°–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ

```python
# CNN –¥–µ—Ç–µ–∫—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ
for y in range(0, height, stride):
    for x in range(0, width, stride):
        window = screenshot[y:y+64, x:x+64]
        prediction = model.predict(window)
        
        if prediction > threshold:
            # –ù–∞–π–¥–µ–Ω–æ!
            return True, (x, y), prediction
```

### –ë—ã—Å—Ç—Ä–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è

```python
# –î–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø–æ–∏—Å–∫
# 1. –ì—Ä—É–±—ã–π –ø–æ–∏—Å–∫ (–±–æ–ª—å—à–æ–π stride)
candidates = coarse_search(screenshot, stride=32)

# 2. –¢–æ—á–Ω—ã–π –ø–æ–∏—Å–∫ –≤–æ–∫—Ä—É–≥ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ (–º–∞–ª—ã–π stride)
for candidate in candidates:
    result = fine_search(candidate, stride=8)
    if result:
        return result
```

---

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä

### –°—Ü–µ–Ω–∞—Ä–∏–π: TikTok –∏–∑–º–µ–Ω–∏–ª –¥–∏–∑–∞–π–Ω

#### –î–µ–Ω—å 1: –ö—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ ‚ù§Ô∏è

```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º –º–∞–∫—Ä–æ—Å
python3 main.py ‚Üí 2 ‚Üí tiktok_dom_test ‚Üí y

# Template Matching: ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç (100%)
# –ù–∞–∫–∞–ø–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ...
```

#### –î–µ–Ω—å 2: –û–±—É—á–∞–µ–º CNN

```bash
# –ü–æ—Å–ª–µ 50+ –∑–∞–ø—É—Å–∫–æ–≤
python3 learning/cnn_trainer.py --template Chrome-tiktok-like-dom

–†–µ–∑—É–ª—å—Ç–∞—Ç:
============================================================
üß† –û–ë–£–ß–ï–ù–ò–ï CNN: Chrome-tiktok-like-dom
============================================================

üìä –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
   ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤: 40
   ‚ùå –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤: 10
   ‚öñÔ∏è  –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–æ: 10 –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞
   üì¶ Train: 16 –ø—Ä–∏–º–µ—Ä–æ–≤
   üì¶ Val: 4 –ø—Ä–∏–º–µ—Ä–∞

üöÄ –ù–∞—á–∞–ª–æ –æ–±—É—á–µ–Ω–∏—è...
Epoch 1/50
...
Epoch 50/50

üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
   Train - Acc: 95.00%
   Val   - Acc: 92.50%

‚úÖ –ú–æ–¥–µ–ª—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞: learning/models/cnn/Chrome-tiktok-like-dom_cnn.keras
============================================================
```

#### –î–µ–Ω—å 3: TikTok –æ–±–Ω–æ–≤–∏–ª—Å—è ‚Üí –°–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞ üíô

```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º –º–∞–∫—Ä–æ—Å
python3 main.py ‚Üí 2 ‚Üí tiktok_dom_test ‚Üí y

# Template Matching: ‚ùå –ù–ï –ù–ê–•–û–î–ò–¢ (—Ü–≤–µ—Ç –∏–∑–º–µ–Ω–∏–ª—Å—è)
# CNN: ‚úÖ –ù–ê–•–û–î–ò–¢! (–ø–æ–Ω–∏–º–∞–µ—Ç —á—Ç–æ —ç—Ç–æ –∫–Ω–æ–ø–∫–∞)

–í—ã–≤–æ–¥:
üß† CNN Detector –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (1 –º–æ–¥–µ–ª–µ–π)
üîç –ü–æ–∏—Å–∫: Chrome-tiktok-like-dom
   üß† –ò—Å–ø–æ–ª—å–∑—É–µ–º CNN –¥–µ—Ç–µ–∫—Ç–æ—Ä...
   ‚úÖ –ù–∞–π–¥–µ–Ω–æ! (confidence: 0.92)
```

**CNN –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–ª—Å—è –∫ –Ω–æ–≤–æ–º—É –¥–∏–∑–∞–π–Ω—É! üéâ**

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

### Template Matching

```
–¢–æ—á–Ω–æ—Å—Ç—å: 70-85%
–°–∫–æ—Ä–æ—Å—Ç—å: –ë—ã—Å—Ç—Ä–æ (0.1s)
–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å: –ù–∏–∑–∫–∞—è

–†–∞–±–æ—Ç–∞–µ—Ç:
‚úÖ –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–∏–∫—Å–µ–ª–µ–π
‚úÖ –¢–æ—Ç –∂–µ —Ü–≤–µ—Ç
‚úÖ –¢–æ—Ç –∂–µ —Ä–∞–∑–º–µ—Ä

–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
‚ùå –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω
‚ùå –î—Ä—É–≥–æ–π —Ü–≤–µ—Ç
‚ùå –î—Ä—É–≥–æ–π —Ä–∞–∑–º–µ—Ä
```

### CNN

```
–¢–æ—á–Ω–æ—Å—Ç—å: 90-98%
–°–∫–æ—Ä–æ—Å—Ç—å: –°—Ä–µ–¥–Ω–µ (0.3s)
–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å: –í—ã—Å–æ–∫–∞—è

–†–∞–±–æ—Ç–∞–µ—Ç:
‚úÖ –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω (–µ—Å–ª–∏ –ø–æ—Ö–æ–∂)
‚úÖ –õ—é–±–æ–π —Ü–≤–µ—Ç
‚úÖ –õ—é–±–æ–π —Ä–∞–∑–º–µ—Ä
‚úÖ –†–∞–∑–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ
‚úÖ –ß–∞—Å—Ç–∏—á–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å

–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
‚ùå –°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç (–Ω—É–∂–Ω–æ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ)
```

---

## üîß API

### Python API

```python
from learning.cnn_trainer import CNNTrainer
from learning.cnn_detector import CNNDetector

# –û–±—É—á–µ–Ω–∏–µ
trainer = CNNTrainer()
model = trainer.train('Chrome-tiktok-like-dom', epochs=50)

# –î–µ—Ç–µ–∫—Ü–∏—è
detector = CNNDetector()
found, location, confidence = detector.detect_fast(
    screenshot, 
    'Chrome-tiktok-like-dom',
    threshold=0.8
)

if found:
    print(f"–ù–∞–π–¥–µ–Ω–æ –≤ {location} —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é {confidence*100:.1f}%")
```

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

```bash
# –û–±—É—á–µ–Ω–∏–µ
python3 learning/cnn_trainer.py --template Chrome-tiktok-like-dom
python3 learning/cnn_trainer.py --all  # –í—Å–µ —à–∞–±–ª–æ–Ω—ã

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python3 learning/cnn_detector.py
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
learning/
‚îú‚îÄ‚îÄ cnn_trainer.py           # –û–±—É—á–µ–Ω–∏–µ CNN –º–æ–¥–µ–ª–µ–π
‚îú‚îÄ‚îÄ cnn_detector.py          # –î–µ—Ç–µ–∫—Ü–∏—è —Å CNN
‚îú‚îÄ‚îÄ database.py              # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ learning_system.py       # –°–∏—Å—Ç–µ–º–∞ –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ memory.db                # SQLite –±–∞–∑–∞
‚îî‚îÄ‚îÄ models/
    ‚îî‚îÄ‚îÄ cnn/                 # CNN –º–æ–¥–µ–ª–∏
        ‚îú‚îÄ‚îÄ Chrome-tiktok-like-dom_cnn.keras
        ‚îú‚îÄ‚îÄ Chrome-tiktok-like-dom_metadata.txt
        ‚îî‚îÄ‚îÄ ...
```

---

## üéØ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π CNN:

```
‚úÖ UI —á–∞—Å—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è
‚úÖ –ù—É–∂–Ω–∞ –≤—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
‚úÖ –ï—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö (50+ –ø—Ä–∏–º–µ—Ä–æ–≤)
‚úÖ –≠–ª–µ–º–µ–Ω—Ç –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç/—Ä–∞–∑–º–µ—Ä
‚úÖ –í–∞–∂–Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
```

### ‚ùå Template Matching –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:

```
‚úÖ UI —Å—Ç–∞–±–∏–ª—å–Ω—ã–π
‚úÖ –≠–ª–µ–º–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π
‚úÖ –ú–∞–ª–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
‚úÖ –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
```

---

## üí° –°–æ–≤–µ—Ç—ã

### –î–ª—è –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

```
‚úÖ –ù–∞–∫–æ–ø–∏ –º–∏–Ω–∏–º—É–º 50 –ø—Ä–∏–º–µ—Ä–æ–≤
‚úÖ –ë–∞–ª–∞–Ω—Å–∏—Ä—É–π –∫–ª–∞—Å—Å—ã (50/50 —É—Å–ø–µ—Ö–æ–≤/–Ω–µ—É–¥–∞—á)
‚úÖ –ó–∞–ø—É—Å–∫–∞–π –º–∞–∫—Ä–æ—Å—ã –≤ —Ä–∞–∑–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
‚úÖ –ü–µ—Ä–µ–æ–±—É—á–∞–π –º–æ–¥–µ–ª—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏
‚úÖ –ü—Ä–æ–≤–µ—Ä—è–π —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```

### Troubleshooting:

```
–ü—Ä–æ–±–ª–µ–º–∞: –ù–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å (< 80%)
–†–µ—à–µ–Ω–∏–µ: –ù–∞–∫–æ–ø–∏ –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö, —É–≤–µ–ª–∏—á—å epochs

–ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ (train 100%, val 60%)
–†–µ—à–µ–Ω–∏–µ: –£–≤–µ–ª–∏—á—å Dropout, —É–º–µ–Ω—å—à–∏ epochs

–ü—Ä–æ–±–ª–µ–º–∞: CNN –º–µ–¥–ª–µ–Ω–Ω—ã–π
–†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π detect_fast() –≤–º–µ—Å—Ç–æ detect()
```

---

## üöÄ Quick Start

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏ TensorFlow
pip3 install tensorflow matplotlib

# 2. –ù–∞–∫–æ–ø–∏ –¥–∞–Ω–Ω—ã–µ (–∑–∞–ø—É—Å—Ç–∏ –º–∞–∫—Ä–æ—Å 50+ —Ä–∞–∑)
python3 main.py ‚Üí 2 ‚Üí tiktok_dom_test ‚Üí y

# 3. –û–±—É—á–∏ –º–æ–¥–µ–ª—å
python3 learning/cnn_trainer.py

# 4. –ò—Å–ø–æ–ª—å–∑—É–π CNN (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
python3 main.py ‚Üí 2 ‚Üí tiktok_dom_test ‚Üí y

# CNN –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞!
```

---

**CNN —Ä–∞–±–æ—Ç–∞–µ—Ç! üß†**

**+20% —Ç–æ—á–Ω–æ—Å—Ç–∏! üìà**

**–ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º! üîÑ**

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ! üöÄ**
