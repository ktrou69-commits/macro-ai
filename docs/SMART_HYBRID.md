# üß† –£–º–Ω—ã–π –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥

## üí° –ö–æ–Ω—Ü–µ–ø—Ü–∏—è:

**Selenium –Ω–∞—Ö–æ–¥–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã ‚Üí PyAutoGUI —ç–º—É–ª–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã**

```
1. Selenium ‚Üí –ù–∞—Ö–æ–¥–∏—Ç –ö–û–ù–ö–†–ï–¢–ù–´–ô –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2-–π)
2. Selenium ‚Üí –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç —ç—Ç–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
3. AI ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
4. Selenium ‚Üí –ü–æ–ª—É—á–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏ "–û—Ç–≤–µ—Ç–∏—Ç—å" –≠–¢–û–ì–û –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
5. PyAutoGUI ‚Üí –ö–ª–∏–∫–∞–µ—Ç –ø–æ —ç—Ç–∏–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º (—ç–º—É–ª—è—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!)
6. Template ‚Üí –í–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç
```

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

### **1. –¢–æ—á–Ω–æ—Å—Ç—å:**
- ‚úÖ Selenium –Ω–∞—Ö–æ–¥–∏—Ç –ö–û–ù–ö–†–ï–¢–ù–´–ô –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ –ø–µ—Ä–≤—ã–π –ø–æ–ø–∞–≤—à–∏–π—Å—è)
- ‚úÖ –û—Ç–≤–µ—á–∞–µ—Ç –∏–º–µ–Ω–Ω–æ –Ω–∞ —Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–±—Ä–∞–ª

### **2. –≠–º—É–ª—è—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
- ‚úÖ PyAutoGUI –∫–ª–∏–∫–∞–µ—Ç –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫ (–Ω–µ —á–µ—Ä–µ–∑ DOM)
- ‚úÖ TikTok –Ω–µ –≤–∏–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é
- ‚úÖ –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### **3. –ì–∏–±–∫–æ—Å—Ç—å:**
- ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (1-–π, 2-–π, 3-–π...)
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –¥–ª–∏–Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- ‚úÖ AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

### **–®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏ Chrome —Å debugging**
```bash
./start_chrome_debug.sh
```

### **–®–∞–≥ 2: –û—Ç–∫—Ä–æ–π TikTok –≤–∏–¥–µ–æ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏**

### **–®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏ —É–º–Ω—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é**
```bash
export GEMINI_API_KEY="your_key"

python3 macro_sequence.py \
  --config examples/tiktok_smart_hybrid.yaml \
  --run tiktok_smart_hybrid
```

---

## üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

### **–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä:**

```yaml
variables:
  comment_index: 1  # –ö–∞–∫–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (0=–ø–µ—Ä–≤—ã–π, 1=–≤—Ç–æ—Ä–æ–π, 2=—Ç—Ä–µ—Ç–∏–π)

sequences:
  tiktok_smart_hybrid:
    steps:
    # 1. Selenium: –ò–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
    - action: selenium_extract
      selector: "[data-e2e='comment-level-1']"
      index: "{comment_index}"  # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π!
      save_to: comment_text
    
    # 2. AI: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç
    - action: ai_generate
      prompt: "–û—Ç–≤–µ—Ç—å –Ω–∞: {comment_text}"
      save_to: reply_text
    
    # 3. Selenium: –ü–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏ "–û—Ç–≤–µ—Ç–∏—Ç—å"
    - action: selenium_get_coordinates
      selector: "[data-e2e='comment-level-1']:nth-child({comment_index}) button"
      save_x: reply_button_x
      save_y: reply_button_y
    
    # 4. PyAutoGUI: –ö–ª–∏–∫–Ω—É—Ç—å –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º (—ç–º—É–ª—è—Ü–∏—è!)
    - action: click
      position: absolute
      x: "{reply_button_x}"
      y: "{reply_button_y}"
    
    # 5. –í–≤–µ—Å—Ç–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å
    - action: type
      text: "{reply_text}"
    
    - action: click
      template: templates/send_btn.png
```

---

## üîß –ù–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: `selenium_get_coordinates`

### **–û–ø–∏—Å–∞–Ω–∏–µ:**
–ü–æ–ª—É—á–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —ç–ª–µ–º–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ Selenium –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

### **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```yaml
- action: selenium_get_coordinates
  selector: "CSS —Å–µ–ª–µ–∫—Ç–æ—Ä"  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
  index: 0                   # –ö–∞–∫–æ–π —ç–ª–µ–º–µ–Ω—Ç (–µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ)
  save_x: "element_x"        # –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª—è X
  save_y: "element_y"        # –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª—è Y
```

### **–ü—Ä–∏–º–µ—Ä:**
```yaml
# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏ "–û—Ç–≤–µ—Ç–∏—Ç—å" 2-–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- action: selenium_get_coordinates
  selector: "[data-e2e='comment-level-1']:nth-child(2) button[aria-label*='Reply']"
  index: 0
  save_x: reply_x
  save_y: reply_y

# –ö–ª–∏–∫–Ω—É—Ç—å –ø–æ —ç—Ç–∏–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
- action: click
  position: absolute
  x: "{reply_x}"
  y: "{reply_y}"
```

---

## üìä –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### **1. Selenium –Ω–∞—Ö–æ–¥–∏—Ç —ç–ª–µ–º–µ–Ω—Ç:**
```python
element = driver.find_element(By.CSS_SELECTOR, selector)
```

### **2. –ü–æ–ª—É—á–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ —Ä–∞–∑–º–µ—Ä:**
```python
location = element.location  # {'x': 200, 'y': 400}
size = element.size          # {'width': 100, 'height': 40}
```

### **3. –í—ã—á–∏—Å–ª—è–µ—Ç —Ü–µ–Ω—Ç—Ä:**
```python
center_x = location['x'] + size['width'] / 2   # 250
center_y = location['y'] + size['height'] / 2  # 420
```

### **4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```python
self.variables['reply_x'] = 250
self.variables['reply_y'] = 420
```

### **5. PyAutoGUI –∫–ª–∏–∫–∞–µ—Ç:**
```python
pyautogui.click(250, 420)  # –≠–º—É–ª—è—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!
```

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

### **–ü—Ä–∏–º–µ—Ä 1: –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 2-–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π**

```yaml
variables:
  comment_index: 1  # 0=–ø–µ—Ä–≤—ã–π, 1=–≤—Ç–æ—Ä–æ–π

steps:
# –ò–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç 2-–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- action: selenium_extract
  selector: "[data-e2e='comment-level-1']"
  index: "{comment_index}"
  save_to: comment_text

# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏ "–û—Ç–≤–µ—Ç–∏—Ç—å" 2-–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- action: selenium_get_coordinates
  selector: "[data-e2e='comment-level-1']:nth-child(2) button"
  save_x: reply_x
  save_y: reply_y

# –ö–ª–∏–∫–Ω—É—Ç—å
- action: click
  position: absolute
  x: "{reply_x}"
  y: "{reply_y}"
```

### **–ü—Ä–∏–º–µ—Ä 2: –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤**

```yaml
- action: repeat
  times: 5
  steps:
  # –ò–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è #{i}
  - action: selenium_extract
    selector: "[data-e2e='comment-level-1']"
    index: "{i}"
    save_to: comment_text
  
  # –ü–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏ #{i}
  - action: selenium_get_coordinates
    selector: "[data-e2e='comment-level-1']:nth-child({i}) button"
    save_x: reply_x
    save_y: reply_y
  
  # –ö–ª–∏–∫–Ω—É—Ç—å –∏ –æ—Ç–≤–µ—Ç–∏—Ç—å
  - action: click
    position: absolute
    x: "{reply_x}"
    y: "{reply_y}"
  
  - action: type
    text: "–û—Ç–≤–µ—Ç –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π #{i}"
```

---

## üí° –°–æ–≤–µ—Ç—ã:

### **1. –ù–∞–π—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä:**

–û—Ç–∫—Ä–æ–π DevTools (F12) –∏ –ø—Ä–æ–≤–µ—Ä—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```javascript
// –ù–∞–π—Ç–∏ –≤—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
document.querySelectorAll("[data-e2e='comment-level-1']")

// –ù–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É "–û—Ç–≤–µ—Ç–∏—Ç—å" 2-–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
document.querySelectorAll("[data-e2e='comment-level-1']")[1].querySelector("button")
```

### **2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å nth-child:**

```yaml
# –ü–µ—Ä–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
selector: "[data-e2e='comment-level-1']:nth-child(1)"

# –í—Ç–æ—Ä–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
selector: "[data-e2e='comment-level-1']:nth-child(2)"

# –¢—Ä–µ—Ç–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
selector: "[data-e2e='comment-level-1']:nth-child(3)"
```

### **3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:**

```yaml
# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- action: selenium_get_coordinates
  selector: "button"
  save_x: test_x
  save_y: test_y

# –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–≤ –ª–æ–≥–∞—Ö)
- action: wait
  duration: 0.1
  # –í –ª–æ–≥–∞—Ö —É–≤–∏–¥–∏—à—å: "–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ: test_x=250, test_y=420"
```

---

## üêõ Troubleshooting:

### **–ü—Ä–æ–±–ª–µ–º–∞: "–≠–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω"**

```
‚ùå –≠–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω: [data-e2e='comment-level-1']
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤—Ä—É—á–Ω—É—é
2. –ü—Ä–æ–≤–µ—Ä—å —Å–µ–ª–µ–∫—Ç–æ—Ä –≤ DevTools
3. –ò—Å–ø–æ–ª—å–∑—É–π –±–æ–ª–µ–µ –æ–±—â–∏–π —Å–µ–ª–µ–∫—Ç–æ—Ä:
   ```yaml
   selector: "[class*='comment']"
   ```

### **–ü—Ä–æ–±–ª–µ–º–∞: "–ö–ª–∏–∫–∞–µ—Ç –Ω–µ —Ç—É–¥–∞"**

```
‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã: (250, 420)
‚ö†Ô∏è  –ù–æ –∫–ª–∏–∫–∞–µ—Ç –Ω–µ –ø–æ –∫–Ω–æ–ø–∫–µ
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ Chrome –≤ —Ñ–æ–∫—É—Å–µ
2. –£—á—Ç–∏ –º–∞—Å—à—Ç–∞–± —ç–∫—Ä–∞–Ω–∞ (Retina Display)
3. –î–æ–±–∞–≤—å offset:
   ```yaml
   x: "{reply_x + 10}"
   y: "{reply_y + 5}"
   ```

### **–ü—Ä–æ–±–ª–µ–º–∞: "–ò–Ω–¥–µ–∫—Å –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞"**

```
‚ö†Ô∏è  –ò–Ω–¥–µ–∫—Å 5 –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–Ω–∞–π–¥–µ–Ω–æ 3 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
```

**–†–µ—à–µ–Ω–∏–µ:**
```yaml
# –ü—Ä–æ–≤–µ—Ä—å —Å–∫–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- action: selenium_extract
  selector: "[data-e2e='comment-level-1']"
  index: 0  # –ù–∞—á–Ω–∏ —Å –ø–µ—Ä–≤–æ–≥–æ
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤:

| –ü–æ–¥—Ö–æ–¥ | –ü–æ–∏—Å–∫ | –ö–ª–∏–∫ | –≠–º—É–ª—è—Ü–∏—è | –¢–æ—á–Ω–æ—Å—Ç—å |
|--------|-------|------|----------|----------|
| **Template —Ç–æ–ª—å–∫–æ** | ‚ùå –ü–µ—Ä–≤—ã–π –ø–æ–ø–∞–≤—à–∏–π—Å—è | ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–æ | ‚úÖ –î–∞ | ‚≠ê‚≠ê‚≠ê |
| **Selenium —Ç–æ–ª—å–∫–æ** | ‚úÖ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π | ‚ùå –ß–µ—Ä–µ–∑ DOM | ‚ùå –ù–µ—Ç | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **–£–º–Ω—ã–π –≥–∏–±—Ä–∏–¥** | ‚úÖ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π | ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã | ‚úÖ –î–∞ | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |

---

## üéâ –ò—Ç–æ–≥:

**–£–º–Ω—ã–π –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ = –õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ!**

```
Selenium ‚Üí –ù–∞—Ö–æ–¥–∏—Ç –ö–û–ù–ö–†–ï–¢–ù–´–ô –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ‚úÖ
Selenium ‚Üí –ü–æ–ª—É—á–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏ ‚úÖ
PyAutoGUI ‚Üí –ö–ª–∏–∫–∞–µ—Ç –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫ ‚úÖ
AI ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç ‚úÖ
Template ‚Üí –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç ‚úÖ
```

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
